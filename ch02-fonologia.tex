\chapter{Pré-Processamento dos Verbos para Redes Neurais}
\label{ch:02}



\section{Representações Fonéticas}
\label{sec:transcr}
Na década de 60, quando foi realizado o experimento dos pesquisadores Rumelhart e McClelland, o poder computacional para a construção de modelos de redes neurais era muito baixo e forçou os pesquisadores a desenvolverem um sistema de codificação composto de várias etapas. De maneira simplificada, o sistema apresentado consistia, primeiramente, na transformação dos verbos (sequências de fones) em vetores de trigramas de fones somados a uma demarcação de início e final de palavra, representada pelo símbolo \#. Em seguida, cada um dos fones era substituído por uma lista de traços distintivos %\ref{} colocar aqui a referencia do chomsky
. Ao final, todas as possíveis combinações de três traços distintivos subsequentes foram mapeados como chaves em um dicionário de tamanho fixo em que os valores poderiam assumir somente 0 ou 1; 1 caso aquela sequência de traços estivesse presente no verbo e 0 caso contrário. A Figura \ref{fig:wick} ilustra o esquema de codificação para o verbo “came” ([kAm] segundo a chave de transcrição apresentada pelos pesquisadores). 

\input{tikz/coding-scheme.tex}

Na época, a dificuldade de se representar uma sequência de itens em um único vetor numérico era muito grande. O modelo apresentou problemas especialmente em casos em que uma mesma sequência de traços distintivos aparecia mais de uma vez no mesmo verbo, visto que o modelo marca apenas presença ou ausência da sequência. Hoje, novas arquiteturas de redes neurais (a ver no Cap \ref{ch:03}) estão disponíveis para lidar com dados sequenciais com a utilização de representações vetoriais menos complicadas. 

Uma possível escolha para tal representação é o tradicional Alfabeto Fonético Internacional (AFI), apresentado nas Tabelas \ref{tab:ipa1} e \ref{tab:ipa2}. O AFI é um sistema de notação fonética, criado pela Associação Fonética Internacoional para promover uma padronização na transcrição de dados de diferentes idiomas. Ele organiza símbolos que representam unidades sonoras presentes nas línguas humanas a partir de características de execução dessas unidades. A Tabela \ref{tab:ipa1} reune o conjunto do sons consoantes e exibe na dimensão das colunas o ponto de articulação dos sons. As linhas compõe os diferentes modos de articulação possíveis. Por fim, dentro de uma mesma célula pode ocorrer um som com ou sem a vibração das cordas vocais, é o caso do par \textbf{[p b]}. O símbolo da esquerda representa o som surdo e o símbolo da direita, sonoro. As vogais estão organizadas na Tabela \ref{tab:ipa2}. As colunas dessa tabela se referem ao local de reprodução dos sons e as linhas à abertura da boca durante a execução. Quando os símbolos aparecem em pares, aquele da direita representa uma vogal arredondada. %\cite{para conhecer} 
\begin{center}
\scalebox{0.8}{
    \begin{tabular}{|l|cc|cc|cc|cc|cc|cc|cc|cc|cc|cc|cc|}
%\begin{tabular}{|l|cc|}
        \hline & 
            \multicolumn{2}{|c|}{\footnotesize{Bilabial}} &					% Bilabial
            \multicolumn{2}{|c|}{\footnotesize{Lab. dent.}} & 			% Labiodental
            \multicolumn{2}{|c|}{\footnotesize{Dental}} & 					% Dental
            \multicolumn{2}{|c|}{\footnotesize{Alveolar}} & 				% Alveolar
            \multicolumn{2}{|c|}{\footnotesize{P-alveo.}} & 		% Post-alveolar
            \multicolumn{2}{|c|}{\footnotesize{Retroflex}} & 				% Retroflex
            \multicolumn{2}{|c|}{\footnotesize{Palatal}} & 					% Palatal
            \multicolumn{2}{|c|}{\footnotesize{Velar}} & 					% Velar
            \multicolumn{2}{|c|}{\footnotesize{Uvular}} & 					% Uvular
            \multicolumn{2}{|c|}{\footnotesize{Pharyng.}} & 			% Pharyngeal
            \multicolumn{2}{|c|}{\footnotesize{Glottal}}  \\% Glottal

        \hline 
        Plosive &	% Plosive
            p & b &													% Bilabial
            &&														% Labiodental
            \multicolumn{3}{|r}{t}&							% Dental
            \multicolumn{3}{l|}{d}&							% Alveolar
                                                                        % Post-alveolar
            \ipa{\:t} & \ipa{\:d}&									% Retroflex
            c & \textbardotlessj &														% Palatal
            k & g &													% Velar
            q & \ipa{\;G} &										% Uvular
            & \BlankCell        &								% Pharyngeal
            \ipa{P}& \BlankCell         \\								% Glottal

        \hline Nasal & 							% Nasal
            & m &													% Bilabial
            & \ipa{M} &											% Labiodental
            \multicolumn{3}{|r}{}&								% Dental
            \multicolumn{3}{l|}{n}&							% Alveolar
                                                                        % Post-alveolar
            & \ipa{\:n} &														% Retroflex
            & \textltailn &														% Palatal
            & \ipa{N} &														% Velar
            & N &														% Uvular
            \BlankCell        & \BlankCell        &		% Pharyngeal
            \BlankCell        & \BlankCell         \\		% Glottal

        \hline Trill &  								% Trill
            & \ipa{\;B}&											% Bilabial
            & &														% Labiodental
            \multicolumn{3}{|r}{}&								% Dental
            \multicolumn{3}{l|}{r}&								% Alveolar
                                                                        % Post-alveolar
            & &														% Retroflex
            & &														% Palatal
            \BlankCell        & \BlankCell        &		% Velar
            & \ipa{\;R}&											% Uvular
            & &														% Pharyngeal
            \BlankCell        & \BlankCell         \\		% Glottal

        \hline Tap/Flap &  						% Tap /Flap
            & &													% Bilabial
            & &														% Labiodental
            \multicolumn{3}{|r}{} &					% Dental
            \multicolumn{3}{l|}{\ipa{R}} &					% Alveolar
                                                                        % Post-alveolar
            & \ipa{\:r} &														% Retroflex
            & &														% Palatal
            \BlankCell        & \BlankCell        &		% Velar
            & &														% Uvular
            & &														% Pharyngeal
            \BlankCell        & \BlankCell         \\		% Glottal

        \hline Fricative & 						% Fricative
            \ipa{F} & \ipa{B} &									% Bilabial
            f & v &													% Labiodental
            \ipa{T} & \ipa{D} &									% Dental
            s & z &													% Alveolar
            \ipa{S} & \ipa{Z} &									% Post-alveolar
            \ipa{\:s} & \ipa{\:z} &								% Retroflex
            \ipa{\c{c}} & \ipa{J} &								% Palatal
            x & \ipa{G} &											% Velar
            \ipa{X} & \ipa{K} &									% Uvular
            \textcrh & \ipa{Q} &								% Pharyngeal
            h & \texthth \\										% Glottal

        \hline Lat. Fric. & 					% Lat. Fricative
            \BlankCell        & \BlankCell        &		% Bilabial
            \BlankCell        & \BlankCell        &		% Labiodental
            \multicolumn{3}{|r}{\textbeltl} &				% Dental
            \multicolumn{3}{l|}{\textlyoghlig} &			% Alveolar
                                                                        % Post-alveolar
            & &														% Retroflex
            & &														% Palatal
            & &														% Velar
            & &														% Uvular
            \BlankCell        & \BlankCell        			% Pharyngeal
            & \BlankCell        & \BlankCell         \\   % Glottal

        \hline Approx & 							% Approx.
            & &														% Bilabial
            & \ipa{V} &											% Labiodental
            \multicolumn{3}{|r}{}&								% Dental
            \multicolumn{3}{l|}{\ipa{\*r}} &					% Alveolar
                                                                        % Post-alveolar
            & \ipa{\:R} &											% Retroflex
            & j &														% Palatal
            & \textturnmrleg &									% Velar
            & &														% Uvular
            & &														% Pharyngeal
            \BlankCell        & \BlankCell         \\		% Glottal

        \hline Lat. appr. & 					% Lat. Approx
            \BlankCell        & \BlankCell        &		% Bilabial
            \BlankCell        & \BlankCell        &		% Labiodental
            \multicolumn{3}{|r}{}&								% Dental
            \multicolumn{3}{l|}{l}&								% Alveolar
                                                                        % Post-alveolar
            & \textipa{\:l} &											% Retroflex
            & \textipa{L} &												% Palatal
            & \textipa{\;L} &											% Velar
            & &														% Uvular
            \BlankCell        & \BlankCell        &		% Pharyngeal
            \BlankCell        & \BlankCell         \\		% Glottal
        \hline
    \end{tabular}
}%scalebox
\captionof{table}{Consoantes AFI}\label{tab:ipa1}
\end{center}

\begin{center}
    \begin{vowel}
        %    \putcvowel[l]{i}{1}
        \putvowel[l]{i}{0pt}{0pt}
        \putcvowel[r]{y}{1}
        \putcvowel[l]{e}{2}
        \putcvowel[r]{\o}{2}
        \putcvowel[l]{\textepsilon}{3}
        \putcvowel[r]{\oe}{3}
        \putcvowel[l]{a}{4}
        \putcvowel[r]{\textscoelig}{4}
        \putcvowel[l]{\textscripta}{5}
        \putcvowel[r]{\textturnscripta}{5}
        \putcvowel[l]{\textturnv}{6}
        \putcvowel[r]{\textopeno}{6}
        \putcvowel[l]{\textramshorns}{7}
        \putcvowel[r]{o}{7}
        \putcvowel[l]{\textturnm}{8}
        \putcvowel[r]{u}{8}
        \putcvowel[l]{\textbari}{9}
        \putcvowel[r]{\textbaru}{9}
        \putcvowel[l]{\textreve}{10}
        \putcvowel[r]{\textbaro}{10}
        \putcvowel{\textschwa}{11}
        \putcvowel[l]{\textrevepsilon}{12}
        \putcvowel[r]{\textcloserevepsilon}{12}
        \putcvowel{\textsci\ \textscy}{13}
        \putcvowel{\textupsilon}{14}
        \putcvowel{\textturna}{15}
        \putcvowel{\ae}{16}
    \end{vowel}
\captionof{table}{Vogais IPA}\label{tab:ipa2}   
\end{center} 

O AFI poderia ter sido utilizado para a construção das representações vetoriais, mas apenas um subconjunto do mesmo seria aproveitado já que o português não contém todos os fones possíveis. Desse modo, optou-se por uma simplificação do AFI que resultou na Tabela \ref{tab:new_rep}. Nessa nova representação, além da exclusão de alguns pontos e modos de articulação, apresenta-se também uma chave de transcrição alternativa que engloba apenas caracteres pertencentes ao código ASCII. A opção pela realização dessas modificações se deu em razão de facilitar o pré-processamento do corpus uma vez que o código fonético não é interpretável pela maioria das linguagens de programação.






\begin{center}
\scalebox{0.9}{
    \begin{tabular}{|l|cc|cc|cc|cc|cc|cc|}
        \hline & 
            \multicolumn{2}{|c|}{\footnotesize{Bilabial}} &					% Bilabial
            \multicolumn{2}{|c|}{\footnotesize{Lab. dent.}} & 			% Labiodental
            \multicolumn{2}{|c|}{\footnotesize{Alveolar}} & 				% Alveolar
            \multicolumn{2}{|c|}{\footnotesize{P-alveo.}} & 		% Post-alveolar

            \multicolumn{2}{|c|}{\footnotesize{Velar}} & 					% Velar
            \multicolumn{2}{|c|}{\footnotesize{Glottal}}  \\					% Glottal

        \hline Plosive &  							% Plosive
            p & b &	% Bilabial
            &&	% Labiodental
            t & d	% Alveolar
            & &% Post-alveolar
            & k & g 											& 		% Velar

            & \BlankCell         \\								% Glottal

        \hline Nasal & 							% Nasal
            & m 	% Bilabial
            &  &  & % Labiodental
            & n 	% Alveolar
            & & % Post-alveolar
            & & N 	% Velar
            &  &          \\		% Glottal

        \hline Tap/Flap &  						% Tap /Flap
            &													% Bilabial
            & &														% Labiodental
           && r &					% Alveolar
            &&                 % Post-alveolar

            \BlankCell        & \BlankCell        &		% Velar
            \BlankCell        & \BlankCell         \\		% Glottal

        \hline Fricative & 						% Fricative
            &  &									% Bilabial
            f & v &													% Labiodental
            s & z &													% Alveolar
            x & j &									% Post-alveolar
            &  &% Velar
            h &  \\										% Glottal

        \hline Lat. appr. & 					% Lat. Approx
            \BlankCell        & \BlankCell        &		% Bilabial
            \BlankCell        & \BlankCell        &		% Labiodental

           & l &							% Alveolar
                                                      &&                  % Post-alveolar
  
             & L & 												% Palatal
            											% Velar
            \BlankCell        & \BlankCell         \\		% Glottal
        \hline
    \end{tabular}
}%scalebox
\captionof{table}{Consoantes na nova representação}\label{tab:new_rep}
\end{center}

\begin{center}
\begin{table}[H]
\begin{center}
    \begin{tabular}{lll}
        \hline
         & Anterior & Posterior \\
         \hline
        Fechada & i & u \\
        \hline
        Meia-fechada & e & o \\
        \hline
        Meia-aberta & E & O \\
        \hline
        Aberta & a &  \\
        \hline
        Nasais & A (ã) &\\ & 3 ($\tilde{e}$) &\\ 
        \hline
    \end{tabular}
\end{center}
\caption{Vogais na nova representação}
\label{tab:new_vocals}
\end{table}
\end{center}

Além de tais modificações, também não foram incluídas representações para variantes, portanto os sons de \textbf{[x]-[h]-[r]} (variantes possíveis na pronúncia da palavra “te\textbf{rr}a”) foram resumidos apenas a \textbf{[h]}. Da mesma forma, também não há um símbolo equivalente para \textbf{[\ipa{S}]}, som empregado normalmente entre \textbf{t} e \textbf{i}, como na palavra “time”. A representação para as vogais foi simplicada também para facilitar as transcrições e restringir o número de traços fonéticos possíveis no modelo. A Tabela \ref{tab:chave} mostra a chave de transcrição proposta para as consoantes e vogais. A Tabela \ref{tab:transc} exibe alguns exemplos de transcrição na nova representação sugerida. O Corpus completo ecnontra-se no Apêndice.

\begin{table}[H]
\begin{center}
\begin{tabular}{cc}
\hline
\textbf{Verbo} & \textbf{Transcrição} \\ \hline
ressentir & hes3ntir \\
paro & paru \\
possuo & posuu \\
olha & oLa \\
sacudir & sakudir \\
voltar & voutar \\ \hline
\end{tabular}
\end{center}
\caption{Exemplos de Transcrições}
\label{tab:transc}
\end{table}

\begin{center}
\begin{table}[H]
\begin{center}

\end{center}
\caption{Vogais na nova representação}
\label{tab:transc}
\end{table}
\end{center}


\begin{table}[H]
\begin{center}
\begin{tabular}{lc}
\textbf{AFI} & \multicolumn{1}{l}{\textbf{Transcrição Proposta}} \\ \hline

\textbf{{[}p{]}} - \textbf{p}arar & p \\
\textbf{{[}b{]}} - \textbf{b}otar & b \\
\textbf{{[}t{]}} - \textbf{t}ocar & t \\
\textbf{{[}d{]}} - \textbf{d}ançar & d \\
\textbf{{[}k{]}} - \textbf{c}asar & k \\
\textbf{{[}g{]}} - \textbf{g}ostar & g \\
\textbf{{[}f{]}} - \textbf{f}ugir & f \\
\textbf{{[}v{]}} - \textbf{v}oltar & v \\
\textbf{{[}s{]}} - \textbf{s}oltar & s \\
\textbf{{[}z{]}} - pre\textbf{s}enciar & z \\
\textbf{{[}\ipa{S}{]}} - \textbf{ch}amar & x \\
\textbf{{[}\ipa{Z}{]}} - \textbf{j}antar & j \\
\textbf{{[}t\ipa{S}{]}} - sen\textbf{t}ir & t \\
\textbf{{[}d\ipa{Z}{]}} - \textbf{d}izer & d \\
\textbf{{[}h{]}} - e\textbf{rr}ar & h \\
\textbf{{[}\ipa{\:r}{]}} - enca\textbf{r}ar & r \\
\textbf{{[}l{]}} - pu\textbf{l}ar & l \\
\textbf{{[}\textipa{L}{]}} - espa\textbf{lh}ar & L \\
\textbf{{[}m{]}} - \textbf{m}orar & m \\
\textbf{{[}n{]} }- \textbf{n}adar & n \\
\textbf{{[}\ipa{N}{]}} - so\textbf{nh}ar & N\\
\textbf{{[}a{]}} - p\textbf{a}rar & a \\
\textbf{{[}e{]}} - l\textbf{e}r & e \\
\textbf{{[}\textepsilon{]}} - esp\textbf{e}ro & E \\
\textbf{{[}i{]}} - r\textbf{i}r & i \\
\textbf{{[}o{]}} - pr\textbf{o}por & o \\
\textbf{{[}\textopeno{]} }- col\textbf{o}co & O \\
\textbf{{[}u{]}} - c\textbf{u}rtir & u \\
\textbf{{[}\~e{]}} - \textbf{e}ntreter & 3 \\
\textbf{{[}ã{]}} - pl\textbf{a}ntar & A \\
\textbf{{[}\~o{]}} - comp\textbf{o}nho & o \\
\textbf{{[}\textupsilon{]}} - cas\textbf{o} & u \\
\textbf{{[}j{]}} - sa\textbf{i}o & i \\
\textbf{{[}w{]}} - vo\textbf{l}to & u
\end{tabular}
\end{center}
\caption{Chave de Transcrição Proposta}
\label{tab:chave}
\end{table}

\subsection{Corpus}

Para a execução dos experimentos, o escopo dessa pesquisa foi restringido a um único tempo, modo, pessoa e número, já que o português apresenta formas irregulares em múltiplas combinações destes elementos e seria necessário construir uma rede diferente para cada uma destas combinações. Optou-se por estudar as irregularidades presentes nas flexões de primeira pessoa do singular no tempo presente, modo indicativo.  
O corpus utilizado para o treinamento dessa rede foi construído a partir da listagem de verbos contida no enderenço \texturl{www.conjugação.com.br}.

Primeiramente, foi realizada uma etapa de extração dos verbos e suas respectivas conjugações para um arquivo \textit{.csv} via técnica de \textit{webscraping}, uma técnica que extrai informações contidas nas páginas da web (\cite{mitchell:2015}). Em seguida, os verbos irregulares foram selecionados manualmente para diferentes famílias de verbos, ou seja, grupos que continham o mesmo padrão de flexão. Alguns dos verbos irregulares listados na fonte de referência não eram irregulares no processo de flexão de interesse, e portanto foram realocados para o grupo de verbos regulares. Como um exemplo disto, o verbo \textit{acudir} é considerado irregular pois apresenta irregularidade na terceira pessoa do singular no tempo presente e modo indicativo ((ele/ela) \textit{acode}), porém, como na primeira pessoa do singular o padrão regular se mantém, esse verbo foi realocado para o grupo dos verbos regulares. 

Após a coleta e organização do Corpus, foi necessário passar os verbos coletados para uma transcrição fonética, já que esta pesquisa visa a construção de um modelo que aprenda os padrões de flexões dos verbos. Para tal, um experimento foi realizado na tentativa de utilizar o transcritor fonético automático disponibilizado por (\cite{guide:2016}), porém o transcritor falhou na tentativa de transcrever verbos cuja escrita coincide com substantivos, como por exemplo “apoio”, “peso”, “toco”, “posto”, “jogo”, entre outros. Sendo assim, os verbos coletados foram transcritos manualmente utilizando a chave de transcrição apresentada na Seção \ref{sec:transcr}. No total, foram obtidos 423 verbos, 83 verbos a menos que no experimento realizado por (Rumelhart \& McClelland, 1986)\cite{rumelhart:1986}.

Dos 423 verbos extraídos, 20 foram considerados verbos sem possível agrupamento e foram alocados para uma classe nomeada de \textit{Single} (verbos como “ir”, “trazer” e “saber”), totalizando uma base de 214 verbos regulares e 209 irregulares (50.6\% e 49.4\% respectivamente). 

A Tabela \ref{tab:classes} associa os nomes dados aos tipos de irregularidades encontradas e apresenta um exemplo de cada uma delas, além do número de exemplos de cada e a proporção desse número no total. 

Por fim, optou-se por excluir o “r” presente no final dos verbos no infinitivo. Essa decisão foi tomada pois como todos os verbos compartilham dessa mesma característica, a presença desse fone não agrega mais informação no treinamento e se torna portanto dispensável.

\begin{table}[H]
\begin{center}
\begin{tabular}{|l|c|c|c|c|}
\toprule
& Classes & Exemplos & Contagem & Proporção\\
\midrule
1 & iar:eiu & ansiar, anseio & 9 & 2.13\%\\
2 & o\_ar:O\_u & tocar, toco & 30 & 7.09\%\\
3 & o\_ir:u\_o & cobrir, cubro & 7 & 1.65\%\\
4 & izer:igu & dizer, digo & 7 & 1.65\%\\
5 & fazer:fasu & fazer, faço & 15 & 3.55\%\\
6 & crer:eiu & crer, creio & 5 & 1.18\%\\
7 & entir:intu & sentir, sinto & 8 & 1.89\% \\
8 & edir:Esu & pedir, peço & 7 & 1.65\%\\
9 & or:oNu & pôr, ponho & 27 & 6.38\%\\
10 & e\_ir:i\_u & seguir, sigo & 27 & 6.38\%\\
11 & ter:teNu & ter, tenho & 10 & 2.36\%\\
12 & e\_ar:E\_u & testar, testo & 20 & 4.73\%\\
13 & ver:veju & ver, vejo & 6 & 1.42\%\\
14 & vir:veniu & vir, venho & 10 & 2.60\%\\
15 & Singles & saber, sei & 20 & 4.73\%\\
16 & Regulares & falar, falo & 214 & 50.59\%\\
\bottomrule
\end{tabular}
\end{center}
\captionof{table}{Organização do corpus}
\label{tab:classes}
\end{table}



